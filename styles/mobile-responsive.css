/* Mobile-focused responsive styles */

/* Base adjustments for small screens */
@media (max-width: 640px) {
    /* Typography */
    .neon-title {
      font-size: 3rem !important; /* Smaller title on mobile */
      line-height: 1.2 !important; /* Tighter line height for better fit */
    }
    
    /* Keep original gradient styling - mobile view */
    
    /* Buttons */
    .mint-button {
      font-size: 1.25rem !important;
      padding: 0.75rem 1.5rem !important;
      width: 100% !important; /* Full width on mobile */
      max-width: 280px !important; /* Prevent overly wide buttons */
      margin-left: auto !important;
      margin-right: auto !important;
    }
    
    /* Layout improvements */
    .wallet-button-container {
      width: 100%;
      max-width: 300px;
      margin: 0 auto;
    }
    
    /* NFT Cards grid adjustment */
    .grid.grid-cols-1.md\:grid-cols-2.lg\:grid-cols-3.gap-6 {
      grid-template-columns: 1fr !important; /* Force single column on mobile */
      gap: 1rem !important; /* Tighter gap */
    }
    
    /* Make modals more compact */
    .fixed.inset-0.bg-black\/80.flex.items-center.justify-center.z-50 > div {
      width: 95% !important;
      max-height: 85vh !important;
      overflow-y: auto !important;
      padding: 1rem !important;
    }
    
    /* Table responsiveness - Enhanced for better mobile experience */
    table.responsive-table, 
    .responsive-table thead, 
    .responsive-table tbody, 
    .responsive-table th, 
    .responsive-table td, 
    .responsive-table tr {
      display: block;
    }
    
    .responsive-table thead tr {
      position: absolute;
      top: -9999px;
      left: -9999px;
    }
    
    .responsive-table tr {
      margin-bottom: 1rem;
      border-bottom: 1px solid rgba(107, 114, 128, 0.3);
      background-color: rgba(30, 41, 59, 0.3);
      border-radius: 0.5rem;
      overflow: hidden;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
    }
    
    .responsive-table td {
      position: relative;
      padding-left: 50% !important;
      padding-top: 0.75rem !important;
      padding-bottom: 0.75rem !important;
      text-align: right !important;
      min-height: 44px;
      display: flex !important;
      align-items: center !important;
      justify-content: flex-end !important;
      border-bottom: 1px solid rgba(75, 85, 99, 0.2);
    }
    
    .responsive-table td:last-child {
      border-bottom: none;
    }
    
    .responsive-table td:before {
      position: absolute;
      left: 12px;
      width: 45%;
      padding-right: 10px;
      text-align: left;
      font-weight: bold;
      content: attr(data-label);
      display: flex;
      align-items: center;
      height: 100%;
      color: rgba(209, 213, 219, 1.0);
    }
    
    /* Standard table responsiveness for non-specific tables */
    table:not(.keep-structure), 
    table:not(.keep-structure) thead, 
    table:not(.keep-structure) tbody, 
    table:not(.keep-structure) th, 
    table:not(.keep-structure) td, 
    table:not(.keep-structure) tr {
      display: block;
    }
    
    table:not(.keep-structure) thead tr {
      position: absolute;
      top: -9999px;
      left: -9999px;
    }
    
    table:not(.keep-structure) tr {
      margin-bottom: 1rem;
      border-radius: 0.5rem;
      overflow: hidden;
      background-color: rgba(30, 41, 59, 0.3);
      border-bottom: 1px solid rgba(107, 114, 128, 0.3);
    }
    
    table:not(.keep-structure) td {
      position: relative;
      padding-left: 50% !important;
      text-align: right !important;
      min-height: 40px;
      display: flex !important;
      align-items: center !important;
      justify-content: flex-end !important;
      border-bottom: 1px solid rgba(75, 85, 99, 0.2);
    }
    
    table:not(.keep-structure) td:last-child {
      border-bottom: none;
    }
    
    table:not(.keep-structure) td:before {
      position: absolute;
      left: 12px;
      width: 45%;
      padding-right: 10px;
      text-align: left;
      font-weight: bold;
      content: attr(data-label);
      color: rgba(209, 213, 219, 1.0);
    }
    
    /* Increase tap targets */
    button, a {
      min-height: 44px;
      min-width: 44px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
    }
    
    /* Video player controls */
    .video-player-container button {
      min-width: 44px;
      min-height: 44px;
      margin: 0 4px;
    }
    
    /* Header adjustments */
    .flex.items-center.justify-between.px-6.py-4 {
      padding: 0.75rem 1rem !important;
    }
    
    /* Footer spacing */
    .flex.justify-center.space-x-8.mt-8 {
      flex-wrap: wrap !important;
      gap: 1rem !important;
    }
    
    /* Form elements */
    input, textarea, select {
      font-size: 16px !important; /* Prevent iOS zoom on focus */
      padding: 0.75rem !important;
    }
    
    /* Fix spacing in Wallet UI */
    .wallet-adapter-button {
      min-height: 48px;
      padding: 0.75rem 1.25rem !important;
      font-size: 1rem !important;
    }
  }
  
  /* Additional adjustments for extra small screens */
  @media (max-width: 380px) {
    .neon-title {
      font-size: 2.5rem !important;
    }
    
    /* Stack footer links on very small screens */
    .flex.justify-center.space-x-8.mt-8 {
      flex-direction: column !important;
      align-items: center !important;
      gap: 1rem !important;
    }
    
    .flex.justify-center.space-x-8.mt-8 > * {
      margin-left: 0 !important;
      margin-right: 0 !important;
    }
    
    /* NFT details page */
    .flex.flex-col.md\:flex-row.gap-8 {
      gap: 2rem !important;
    }
    
    /* Shrink header on tiny screens */
    .text-4xl.font-bold.mb-8 {
      font-size: 1.75rem !important;
      margin-bottom: 1rem !important;
    }
  }
  
  /* Fix wallet modal on mobile */
  @media (max-width: 640px) {
    .wallet-adapter-modal-wrapper {
      width: 95% !important;
      max-width: 360px !important;
      margin: 0 auto !important;
      border-radius: 12px !important;
    }
    
    .wallet-adapter-button {
      width: 100% !important;
    }
    
    .wallet-adapter-modal-list {
      grid-template-columns: 1fr !important; /* Stack wallet options */
      padding: 1rem !important;
      gap: 0.5rem !important;
    }
    
    .wallet-adapter-modal-button-close {
      top: 16px !important;
      right: 16px !important;
      padding: 8px !important;
    }
  }
  
  /* Fix for iOS safari viewport height issues */
  @supports (-webkit-touch-callout: none) {
    .min-h-screen {
      min-height: -webkit-fill-available;
    }
    
    .h-screen, .h-full {
      height: -webkit-fill-available;
    }
  }
  
  /* Common mobile adjustments that apply to all screen sizes */
  button, a, .wallet-adapter-button {
    min-height: 44px; /* Minimum recommended touch target size */
  }
  
  /* 컨테이너 그라데이션 배경 복원 */
  .bg-gradient-to-br.from-gray-900.to-purple-900\/50,
  .bg-gradient-to-br.from-gray-900.to-indigo-900\/50,
  .bg-gradient-to-br.from-gray-900.to-blue-900\/50 {
    background: linear-gradient(to bottom right, rgba(17, 24, 39, 0.8), rgba(88, 28, 135, 0.3)) !important;
    border: 1px solid rgba(139, 92, 246, 0.2) !important;
    backdrop-filter: blur(4px) !important;
  }
  
  /* 컨테이너 스타일 복원 - 메인 */
  .bg-purple-900\/10, .bg-indigo-900\/10, .bg-blue-900\/10 {
    background-color: rgba(88, 28, 135, 0.1) !important;
    border: 1px solid rgba(139, 92, 246, 0.2) !important;
  }
  
  /* 컨테이너 배경 복원 - 섹션별 */
  .bg-gradient-to-r.from-purple-900\/30, 
  .bg-gradient-to-r.from-blue-900\/30,
  .bg-gradient-to-r.from-blue-900\/30.to-purple-900\/30 {
    background: linear-gradient(to right, rgba(88, 28, 135, 0.3), rgba(67, 56, 202, 0.2)) !important;
    border: 1px solid rgba(139, 92, 246, 0.2) !important;
  }
  
  /* Improve tap area for close buttons */
  .fixed.inset-0 button[aria-label="Close modal"],
  .fixed.inset-0 button[aria-label="Close"],
  button.absolute.top-4.right-4 {
    min-height: 44px;
    min-width: 44px;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 60; /* Ensure it's clickable */
    background-color: rgba(0, 0, 0, 0.3);
    border-radius: 9999px;
  }
  
  /* Enhance the mobile navigation experience */
  .md\:hidden.bg-gray-900.px-6.py-4.flex.flex-col.space-y-2.animate-fade-in {
    padding: 0.5rem !important;
    border-radius: 0.5rem;
    margin-top: 0.5rem;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
  }

  /* Table horizontal scroll indicator - Shows when tables might scroll horizontally */
  .table-container {
    position: relative;
    overflow-x: auto;
    border-radius: 0.5rem;
  }
  
  .table-container::after {
    content: "";
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    width: 20px; 
    background: linear-gradient(to right, rgba(0,0,0,0), rgba(139, 92, 246, 0.3));
    pointer-events: none;
    opacity: 0;
    transition: opacity 0.3s;
    animation: pulse 2s infinite;
  }
  
  .table-container:not(.no-scroll)::after {
    opacity: 1;
  }
  
  @keyframes pulse {
    0% { opacity: 0.2; }
    50% { opacity: 0.5; }
    100% { opacity: 0.2; }
  }
  
  /* Swipe hint for tables - Shows initially and then fades */
  .swipe-hint {
    display: none;
  }
  
  @media (max-width: 640px) {
    .swipe-hint {
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      background: rgba(139, 92, 246, 0.3);
      padding: 0.5rem;
      border-radius: 0.5rem;
      margin-bottom: 0.5rem;
      animation: fadeInOut 5s forwards;
    }
  }
  
  @keyframes fadeInOut {
    0% { opacity: 0; }
    10% { opacity: 1; }
    90% { opacity: 1; }
    100% { opacity: 0; visibility: hidden; }
  }
  
  /* Improved mobile card layout for tables - Applied to specific tables */
  .mobile-card-table {
    display: block;
    width: 100%;
  }
  
  .mobile-card-table thead {
    display: none;
  }
  
  .mobile-card-table tr {
    margin-bottom: 1rem;
    display: block;
    border-radius: 0.5rem;
    overflow: hidden;
    background-color: rgba(30, 41, 59, 0.3);
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
  }
  
  .mobile-card-table td {
    display: flex !important;
    padding: 0.75rem !important;
    align-items: center;
    border-bottom: 1px solid rgba(75, 85, 99, 0.2);
    min-height: 44px;
  }
  
  .mobile-card-table td:before {
    content: attr(data-label);
    font-weight: 600;
    width: 40%;
    color: rgba(209, 213, 219, 0.9);
  }
  
  .mobile-card-table td:last-child {
    border-bottom: none;
  }
  
  /* Only apply special mobile card styling at mobile widths */
  @media (min-width: 641px) {
    .mobile-card-table {
      display: table;
    }
    
    .mobile-card-table thead {
      display: table-header-group;
    }
    
    .mobile-card-table tr {
      display: table-row;
      margin-bottom: 0;
      background-color: transparent;
      box-shadow: none;
    }
    
    .mobile-card-table td {
      display: table-cell !important;
      padding: 0.75rem !important;
      border-bottom: 1px solid rgba(75, 85, 99, 0.2);
    }
    
    .mobile-card-table td:before {
      display: none;
    }
  }
/* Enhanced mobile optimizations */
@media (max-width: 640px) {
  /* Ensure accessible touch targets (44px minimum) */
  button, a, input, select, [role="button"], .clickable {
    min-height: 44px;
    min-width: 44px;
  }
  
  /* Improved touch scrolling */
  .scrollable, [data-scrollable], div[class*="overflow-auto"], div[class*="overflow-y-auto"], div[class*="overflow-x-auto"] {
    -webkit-overflow-scrolling: touch;
    scroll-behavior: smooth;
    scrollbar-width: thin;
  }
  
  /* Improve tap target spacing */
  .space-y-2 {
    margin-top: 0.625rem;
    margin-bottom: 0.625rem;
  }
  
  /* Better form inputs */
  input, select, textarea {
    font-size: 16px !important; /* Prevents iOS zoom */
    padding: 12px !important;
  }
  
  /* Improved scrolling containers */
  .snap-container {
    scroll-snap-type: x mandatory;
    scroll-padding: 1rem;
  }
  
  .snap-item {
    scroll-snap-align: start;
  }
  
  /* Fix iOS 100vh issue */
  .h-screen {
    height: 100vh;
    height: -webkit-fill-available;
  }
  
  /* Improve text contrast and readability */
  h1, h2, h3, h4, h5, h6 {
    letter-spacing: -0.02em !important;
    text-shadow: 0 2px 3px rgba(0, 0, 0, 0.7) !important;
  }
  
  /* Enhance gradient text visibility on mobile */
  .bg-clip-text.text-transparent {
    filter: brightness(1.6) contrast(1.1) !important;
  }
  
  /* Improve container margins and paddings */
  .container, .content-container, main > div {
    padding-left: 1rem !important;
    padding-right: 1rem !important;
  }

  /* Reduce excessive margins in stacked layouts */
  .space-y-6 > *+*, .space-y-8 > *+* {
    margin-top: 1.25rem !important;
  }
  
  /* Make text slightly larger and more readable on small screens */
  p, li, span:not(.text-xs):not(.text-sm) {
    font-size: 1rem !important;
    line-height: 1.5 !important;
  }
}

/* iOS Safari specific fixes */
@supports (-webkit-touch-callout: none) {
  .h-screen {
    height: -webkit-fill-available;
  }
  
  .ios-vh-fix {
    height: 100%;
    position: fixed;
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
    width: 100%;
  }
}